# Server Configuration
PORT=3001
NODE_ENV=development

# Database (Supabase)
# Note: Supabase is the primary data store now. MongoDB is no longer used.

# JWT
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRE=7d

# Stripe (for payments)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Email (for notifications)
# Choose one or more providers below. Providers not configured are skipped automatically.
EMAIL_FROM=no-reply@thecalista.com
EMAIL_FROM_NAME=TheCalista
# Provider priority (comma-separated): sendgrid,mailgun,smtp
EMAIL_PROVIDER_PRIORITY=sendgrid,mailgun,smtp

# SendGrid (recommended)
SENDGRID_API_KEY=

# Mailgun (recommended)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=

# SMTP (e.g., Gmail + App Password)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Google OAuth (for Google login via ID token)
GOOGLE_CLIENT_ID=

# Observability
SENTRY_DSN=

# Branding (used in email templates)
BRAND_LOGO_URL=

# Brevo (unified email + SMS platform)
BREVO_API_KEY=
BREVO_SMS_SENDER=CalistaLife

# Refresh token lifetime (days)
REFRESH_TOKEN_EXPIRE=30

# File Upload
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# Client URL (for CORS)
CLIENT_URL=http://localhost:5174
# Optional: Comma-separated list of allowed origins for CORS
CORS_ORIGIN=http://localhost:5173,https://calistalife.com,https://www.calistalife.com,https://funny-brigadeiros-2b47c8.netlify.app

# Frontend URL alias used in some places
FRONTEND_URL=http://localhost:5174

# Supabase (for data and storage)
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Razorpay (Indian market payments)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# Admin (hidden dashboard)
ADMIN_BASE_PATH=cl-private-dashboard-2024
ADMIN_MASTER_EMAIL=
ADMIN_MASTER_PASSWORD=
ADMIN_SESSION_MAX_INACTIVE_MINUTES=30
ADMIN_IP_WHITELIST=127.0.0.1,::1
ADMIN_REQUIRE_2FA=true

# Razorpay (Indian market payments - planned)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# --- Brevo Marketing Automation ---
# Public site key for automation tracker (from Brevo > Settings > Tracking)
BREVO_MA_SITE_KEY=
# BREVO_MARKETING_AUTOMATION_SITE_KEY=

# Brevo Lists (create in Brevo and paste numeric IDs)
BREVO_LIST_NEWSLETTER=
BREVO_LIST_CUSTOMERS=
BREVO_LIST_ABANDONED=

# Optional: Contact Attributes used in marketing segmentation
BREVO_ATTR_LTV=LTV
BREVO_ATTR_LAST_ORDER_DATE=LAST_ORDER_DATE
BREVO_ATTR_TOTAL_ORDERS=TOTAL_ORDERS
BREVO_ATTR_BIRTHDATE=BIRTHDATE
BREVO_ATTR_ANNIVERSARY=ANNIVERSARY

# Abandoned cart scheduler (server-side)
ABANDONED_CART_TTL_MINUTES=120
ABANDONED_CART_SCAN_SECONDS=60

# Brevo Webhook URL (configure in Brevo dashboard to point to)
# https://<your-domain>/api/marketing/webhook/brevo
